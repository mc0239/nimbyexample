<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Nim by Example: Objects</title>
    <link rel=stylesheet href="style.css">
    <link rel=stylesheet href="highlight.css">
</head>

<body>
    <h1><a href="./index.html">Nim by Example</a>: Objects</h1>

    <table>
        
        <tr>
            <td class="comment"> Objects in Nim are a bit more rigid type than tuples.
</td>
            
            <td></td>
            
        </tr>
        
        <tr>
            <td class="comment"> We define a new <code>object</code> type by defining a new <code>type</code>.
</td>
            
            <td class="code">
                <pre class="hljs"><span class="hljs-keyword">type</span> <span class="hljs-type">Person</span> = <span class="hljs-keyword">object</span>
    name: <span class="hljs-type">string</span>
    age: <span class="hljs-type">int</span>
</pre>
            </td>
            
        </tr>
        
        <tr>
            <td class="comment"> An object can be initialized by calling the object constructor.
</td>
            
            <td class="code">
                <pre class="hljs"><span class="hljs-keyword">let</span> alice = <span class="hljs-type">Person</span>(name: <span class="hljs-string">&quot;Alice&quot;</span>, age: <span class="hljs-number">25</span>)
echo alice
</pre>
            </td>
            
        </tr>
        
        <tr>
            <td class="comment"></td>
            
            <td class="code">
                <pre class="hljs">echo alice.name, <span class="hljs-string">&quot; is &quot;</span>, alice.age, <span class="hljs-string">&quot; years old.&quot;</span>
</pre>
            </td>
            
        </tr>
        
        <tr>
            <td class="comment"> Uninitialized fields will be zero-valued.
</td>
            
            <td class="code">
                <pre class="hljs"><span class="hljs-keyword">let</span> bob = <span class="hljs-type">Person</span>(name: <span class="hljs-string">&quot;Bob&quot;</span>)
echo bob.age, <span class="hljs-string">&quot; == 0&quot;</span>
</pre>
            </td>
            
        </tr>
        
        <tr>
            <td class="comment"> Order of parameters in constructor does not matter.
</td>
            
            <td class="code">
                <pre class="hljs"><span class="hljs-keyword">let</span> jane = <span class="hljs-type">Person</span>(age: <span class="hljs-number">28</span>, name: <span class="hljs-string">&quot;Jane&quot;</span>)
echo jane
</pre>
            </td>
            
        </tr>
        
        <tr>
            <td class="comment"> To create a custom constructor, define a proc returning an
object instance.
</td>
            
            <td class="code">
                <pre class="hljs"><span class="hljs-keyword">proc</span> newPerson(name: <span class="hljs-type">string</span>, age: <span class="hljs-type">int</span>): <span class="hljs-type">Person</span> =
    <span class="hljs-type">Person</span>(name: name, age: age)
</pre>
            </td>
            
        </tr>
        
        <tr>
            <td class="comment"></td>
            
            <td class="code">
                <pre class="hljs"><span class="hljs-keyword">let</span> joe = newPerson(<span class="hljs-string">&quot;Joe&quot;</span>, <span class="hljs-number">24</span>)
echo joe
</pre>
            </td>
            
        </tr>
        
        <tr>
            <td class="comment"> Reassigning an object will make a copy of it.
</td>
            
            <td class="code">
                <pre class="hljs"><span class="hljs-keyword">var</span> p1 = <span class="hljs-type">Person</span>(name: <span class="hljs-string">&quot;Bill&quot;</span>)
<span class="hljs-keyword">var</span> p2 = p1
p2.name = <span class="hljs-string">&quot;Steve&quot;</span> <span class="hljs-comment"># does not modify p1</span>
echo p1, p2
</pre>
            </td>
            
        </tr>
        
        <tr>
            <td class="comment"> In the <a href="references.html">references example</a>, we will learn
how to work with object references instead of object values.</td>
            
            <td></td>
            
        </tr>
        
        <tr>
            <td class="comment"></td>
            
            <td></td>
            
        </tr>
        
        <tr>
            <td class="comment"></td>
            
            <td></td>
            
        </tr>
        
        <tr>
            <td class="comment"></td>
            
            <td class="code">
                <pre class="hljs">$ nim c -r objects.nim
(name: "Alice", age: 25)
Alice is 25 years old.
0 == 0
(name: "Jane", age: 28)
(name: "Joe", age: 24)
(name: "Bill", age: 0)(name: "Steve", age: 0)
</pre>
            </td>
            
        </tr>
        
        <tr>
            <td class="comment"></td>
            
            <td></td>
            
        </tr>
        
        <tr>
            <td class="comment"></td>
            
            <td></td>
            
        </tr>
        
    </table>

    <p>
        
        Previously: <a href="tuples.html">Tuples</a><br />
        
        
        Next up: <a href="references.html">References</a>
        
    </p>

    <p class="footer">
        <a href="https://github.com/mc0239/nimbyexample">source</a> |
        <a href="https://github.com/mc0239/nimbyexample#license">license</a>
    </p>

</body>

</html>